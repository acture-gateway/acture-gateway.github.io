<!DOCTYPE html>
<html data-wf-page="5f71dd169010d6326b65485d">
  <head>
    <meta charset="utf-8" />
    <title>Acture • Case Study</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href="assets/css/style.css" rel="stylesheet" type="text/css" />
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Inter:regular,500,600,700"
      media="all"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Work+Sans"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Nunito+Sans"
    />
    <meta
    name="image"
    property="og:image"
    content="assets/images/synapse-case-study.png"
  />
    <script type="text/javascript">
      WebFont.load({ google: { families: ["Inter:regular,500,600,700"] } });
    </script>
    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        (n.className += t + "js"),
          ("ontouchstart" in o ||
            (o.DocumentTouch && c instanceof DocumentTouch)) &&
            (n.className += t + "touch");
      })(window, document);
    </script>
    <link
      href="assets/images/color.PNG"
      rel="shortcut icon"
      type="image/x-icon"
    />
    <link href="assets/images/nocolor.PNG" rel="apple-touch-icon" />
    <script
      src="https://kit.fontawesome.com/d019875f94.js"
      crossorigin="anonymous"
    ></script>
    <meta
      name="image"
      property="og:image"
      content="assets/images/thumbnail.png"
    />
  </head>

  <body>
    <!--Navbar-->
    <div class="navigation-wrap" id="navbar">
      <div
        data-collapse="medium"
        data-animation="default"
        data-duration="400"
        role="banner"
        class="navigation w-nav"
      >
        <div class="navigation-container">
          <div class="navigation-left">
            <a
              href="/"
              aria-current="page"
              class="brand w-nav-brand w--current"
              aria-label="home"
            >
            <img
            src="assets/images/color.PNG"
            alt=""
            class="template-logo"
            onmouseover="hover(this);"
            onmouseout="unhover(this);"
          />
            </a>

            <nav role="navigation" class="nav-menu w-nav-menu">
              <a href="/case-study" class="link-block w-inline-block">
                <div>Case Study</div>
              </a>
            </nav>
          </div>
          <div class="navigation-right">
            <div class="login-buttons">
              <a
                href="https://github.com/aryanmagoon/image-enhance-wrapper"
                target="_blank"
              >
                <span style="color: #0a0188">
                  <i class="fab fa-github fa-lg"></i>
                </span>
              </a>
            </div>
          </div>
        </div>
        <div class="w-nav-overlay" data-wf-ignore="" id="w-nav-overlay-0"></div>
      </div>
    </div>

    <!-- <div class="wrapper"></div> -->

    <div id="sidebar" class="toc"></div>

    <div class="section header">
      <article class="container case-study-container">
        <div class="hero-text-container">
          <h1 class="h1 centered">Case Study</h1>
        </div>
        <div id="case-study">
          <br />
          <br />

          <!-- Section 1 -->
          <div class="case-study-section">
            <div class="case-study-subsection">
              <h2 class="h2">1. Abstract</h2>
              <p>
                We have seen a huge shift in computing architecture over the past
                decade, with engineers opting to modularize and distribute their
                services to remain agile. This approach enables quick integration
                and iteration over the traditional monolithic approach to system
                design. But by distributing services over the network, we trade this
                development agility for processing time, as we accrue latency by
                increasing the number of requests made over the network to the
                various services.
              </p>
              <p>
                The latency problem is made worse by the inflexibility of
                traditional API technologies. Although new approaches to API design
                have emerged to address some of these issues, adoption of these
                alternatives typically requires a complete redesign of each service. 
              </p>
              <p>
                In addition to adopting a microservice architecture by distributing services
                Acture serves a complex deep learning model that aims to serve upscaling of images
                for any type of image, in any scenario. In the following case study, I will discuss the creation
                of the machine learning model as well as the design decisions made in creating Acture. 
              </p>
            </div>
          </div>

          <!-- Section 2 -->
          <div class="case-study-section">
            <div class="case-study-subsection">
              <h2>2. GraphQL</h2>

              <p>
                The inflexibility of traditional API technologies led to the
                development of GraphQL. GraphQL is a strongly-typed query language
                for APIs developed by Facebook in 2012 to improve the performance of
                their mobile applications by defining a specification that reduced
                the need to prepare data on the server and parse it on the client’s
                end. It allows the client to request and receive exactly the data
                that is needed, no less, no more. GraphQL provides three ways to provide data
                to an application: mutations, queries, and subscriptions. Queries are the means
                by which the client can request data it needs from the server. Mutations are the
                means by which clients can create, update, and delete data on the server. Subscriptions
                allow for clients to listen to real-time messages from the server, in doing so, we maintain
                a real-time connection with the to the server.

              </p>
            </div>

            <div class="case-study-subsection">
              <h3>2.1 What is GraphQL?</h3>

              <p>
                With GraphQL, the underlying available data is organized by a
                schema. The schema creates a hierarchy of type definitions, which
                typically represent objects. Type definitions have one or more
                fields, which indicates the return type of the data.
              </p>

              <figure>
                <img
                  src="assets/images/case-study/schema.png"
                  class="case-study-image"
                />
                <figcaption>Fig. 1: Example GraphQL API Schema</figcaption>
              </figure>

              <p>
                This structure and strict type system means that we can query the
                schema to see the data available for querying, as well as how return
                objects may be structured. It also allows us to declare exactly
                which fields from a returned type are needed, meaning the client
                won’t overfetch from the application.
              </p>

              <figure>
                <img
                  src="assets/images/case-study/query.png"
                  class="case-study-image"
                />
                <figcaption>Fig. 2: Example GraphQL Query</figcaption>
              </figure>

              <p>
                And lastly, the GraphQL specification allows us to perform multiple
                queries in one request, even if the return types are independent,
                solving the under-fetching issues and preventing the need for
                multiple round-trips.
              </p>

              <figure>
                <img
                  src="assets/images/case-study/response.png"
                  class="case-study-image"
                />
                <figcaption>Fig. 3: Example GraphQL Response</figcaption>
              </figure>

              <p>
                Here is an example of a feature of GraphQL that allows nested
                queries and therefore requires only one client network request to
                obtain data from various resources-this prevents both under and
                over-fetching. Books are related to an author, we are querying for
                the authors and then sub-querying their books. Since the books are
                not a scalar type but a custom type, we need to specify which of
                their properties must be retrieved.
              </p>

              <figure>
                <img
                  src="assets/images/case-study/nested-response.png"
                  class="case-study-image enlarge"
                />
                <figcaption>
                  Fig. 4: Example GraphQL Nested Query and Response
                </figcaption>
              </figure>

              <p>In summary, the main benefits of GraphQL include:</p>

              <ol>
                <li>
                  The client can customize queries to fetch the exact data that is
                  needed when they need it
                </li>
                <li>It reduces the over and under-fetching of data</li>
                <li>
                  It reduces the number of calls made over the network by the client
                  to the API
                </li>
                <li>
                  GraphQL provides a unified and optimized public API of services
                  reachable through a single endpoint.
                </li>
              </ol>
            </div>
          </div>


          <!-- Section 4 -->
          <div class="case-study-section">
            <div class="case-study-subsection">
              <h2 class="h2">3. Containerization</h2>

              <p>
                Containerization is a type of virtualization where applications run on 
                isolated spaces, known as clusters, while using the same operationg system.
                Each cluster is a fully-packaged computing environment containing binaries
                libraries, dependencies, and anything that the app requires to run. The cluster
                is abstracted away from the OS, and allows very little access to underlying resources
                of the host machine. Thus, containerized applications can be run on any infrastructure. 
                In addition to this, there's less overhead when starting, and no need to setup guest
                processes for each cluster. Because of this, we are able to adopt a more agile software
                development process, reduce the cost of virtual machines, isolate problems with containers,
                and easily manage container orchestration through platforms such as Kubernetes.
              </p>

            </div>
            <div class="case-study-subsection">
              <h3>3.1 Kubernetes</h3>
              <p>
                Kubernetes is a portable, extensible, open-source platform for managing containerized services
                released by Google in 2014. Kubernetes provides a framework to run distributed systems automatically,
                taking care of container failture, scaling by providing proper load balancing by measuring traffic to certain
                containers, and automated rollback and rollout for containers. Overall, Kubernetes is used to create
                applications that makes it easy for teams to manage by increasing development speed, allowing applications
                to be deployed anywhere, and by running efficient services. Kubernetes can automatically adjust the size
                of the cluster required to run services. It allows for automatic scaling based on demand of the application.
                To be clear, here are the benefits of Kubernetes:
                <ol>
                  <li>
                    Increased development speed: it helps build cloud-native microservice applications. Supports containerization of prebuilt apps
                  </li>
                  <li>Flexible Deployment: allows applications to be run across on-site deployments and public clouds</li>
                  <li>
                    Efficient Deployment: automatically adjust cluster sizes required to run a service as to not be wasteful of resources
                  </li>
                </ol>
              </p>
            </div>
          </div>

          <div class="case-study-section">
            <div class="case-study-subsection">
              <h2>4. Implementation Details</h2>
  
              <p>
                As seen above, Acture attempts to implement a microservice architecture
                in order to allow for proper scaling of workload. We can investigate further
                how this is possible.
              </p>
            </div>

            <div class="case-study-subsection">
              <h3>4.1 Flask and Kubernetes</h3>

              <p>
                In order to deploy the machine learning model efficiently, we attempt to access the model from a Flask API
                hosted on the Google Kubernetes Engine. In this case, our Flask API only contains one route, in which we
                pass in an image, open it using the openCV package, perform processing on it, including padding, separating alpha layers,
                performing image enhancement on each, combining the results and returning the image represented as a numpy array. In
                order to perform this, we first containerized the basic Flask API using Docker, and wrote a simple deployment file and
                the Kubernetes command-line tool, kubectl, allows us to deploy and inspect our containerized application on a Kubernetes Engine
              </p>
            </div>

            <div class="case-study-subsection">
              <h3>4.2 Django and GraphQL</h3>

              <p>
                In order to process requests, as further image processing as the Flask API only returns a numpy array, 
                we used Django in the backend of the application in order to allow for asynchronous processing. In this, we receive
                a GraphQL mutation that serves the image needed for enhancing, we can start a worker in order to process this request asynchronously
                and we simply redirect the user back to the original homepage. When the process is finished we can further process the received numpy array and repopulate a model field containing the newly enhanced image. A configured GraphQL subscription using
                ariadne returns the finished task, and notifies the user of the completed task.
              </p>

            </div>
            <div class="case-study-subsection">
              <h3>4.3 React</h3>

              <p>
                In order to display finished tasks as quickly as possible to the user. The front end of the application was built using React, an open source
                tool developed by Facebook that allows for quickly building one-page applications. It is a simple front end, thus the implementation is not discussed, but rather why React was chosen.
                React is a modern JavaScript library that allows for the application to display the latest data on the UI without needing a page refresh. Thus users do not need to refresh the page in order to
                receive newly enhanced images. 
              </p>

            </div>
          </div>

          <!-- Section 8 -->
        
          <!-- Section 9 -->
          <div class="case-study-section">
            <div class="case-study-subsection">
              <h2>5. Future Work</h2>
  
              <p>
                So, where does Acture go from here? As an open-source project, how
                can our team, and others in the community, extend or build upon
                Acture?
              </p>
  
              <p>
                Though Acture is ready to use, we have three main features we would
                like to see included:
              </p>
  
              <ul>
                <li>
                  <strong>
                    Specialized Models for Specialized Image Enhancing
                  </strong>
                  Currently, Acture only serves one model that allows users to upscale images,
                  and the model was designed to be a universal model that increases the resolution
                  on images regardless of whether it was an artifact, a portrait, a landscape, et cetera.
                  Although the model works well on all types of inputs, limiting the scope of the model does not benefit
                  the clients, as they are not able to upscale images to the utmost quality. In the future, I would like
                  to have the same model trained on different training data, allowing for more specificity when training
                  and allows for more options to clients.
                </li>
  
                <li>
                  <strong>Video/Video Game Enhancement</strong>
                  Currently, we are only allowing users to upscale their images, but users also have old videos
                  they might need upscaled. As we are able to split a video into frames and essentially pictures, 
                  we are able to add new processing to process video files. Additionally, although light research
                  has been done into it, as we are able to enhance images and videos, another avenue of improvement will be
                  upscaling of frames in video games for clearer gameplay and allowing users to upscale old video games. 
                </li>
  
                <li>
                  <strong>Integration with Cloud Image Stores</strong> And
                  lastly, although not beneficial to users, it will be much easier
                  to scale the application for more microservices as described above,
                  if the application was to implement a cloud image store such as AWS S3, or Cloudinary
                  as we can make our implementation of the software much more efficient. Instead of returning
                  a numpy array of the represented upscaled image, we can simply store the image in a cloud image store
                  and return a link to the aws/cloudinary image. Then, we are able to serve the image much more cleanly
                  and we can possibly abstract away Django, which will make the app easier to deploy.
                </li>
              </ul>
            </div>
          </div>
          <div class="case-study-section">
            <div class="case-study-subsection">
              <h2>6. Training Data Development</h2>
              <p>
                Although the building of the model was standard, the generation of the data was a challenge for building a holistic
                model to enhance all images, regardless of the type of image degredation. In order to do this holistically, we can take an
                N-step approach to generating training pairs for our GAN to consume. In this case, our N is random. We can classify image degredation
                to come in four categories: Blur, Resizing, Noise, and JPEG compression. The high-order degredation process, programatically applies
                these degredations to images, allowing for any type of degredation affecting the image, to be cleared by the model. This allows us to a set
                of regular images, apply random N-step degredation to these images and allow for the model to fix different types of noise.
                
              </p>
            </div>
          </div>
        </div>
      </article>
    </div>

    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5f71dd169010d641cf65485c"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://assets.website-files.com/5f71dd169010d641cf65485c/js/webflow.6af2032ff.js"
      type="text/javascript"
    ></script>
    <script>
      var prevScrollpos = window.pageYOffset;
      window.onscroll = function() {
        var currentScrollPos = window.pageYOffset;
        if (prevScrollpos > currentScrollPos) {
          document.getElementById("navbar").style.top = "0";
          document.getElementById("sidebar").style.top = "100px";
        } else {
          document.getElementById("navbar").style.top = "-100px";
          document.getElementById("sidebar").style.top = "0";
          document.getElementById("sidebar").style.paddingTop = "0";
        }
        prevScrollpos = currentScrollPos;
      }
    </script>
    <script>
      /*!
       * toc - jQuery Table of Contents Plugin
       * v0.3.2
       * http://projects.jga.me/toc/
       * copyright Greg Allen 2014
       * MIT License
       */
      !(function (a) {
        (a.fn.smoothScroller = function (b) {
          b = a.extend({}, a.fn.smoothScroller.defaults, b);
          var c = a(this);
          return (
            a(b.scrollEl).animate(
              {
                scrollTop:
                  c.offset().top - a(b.scrollEl).offset().top - b.offset,
              },
              b.speed,
              b.ease,
              function () {
                var a = c.attr("id");
                a.length &&
                  (history.pushState
                    ? history.pushState(null, null, "#" + a)
                    : (document.location.hash = a)),
                  c.trigger("smoothScrollerComplete");
              }
            ),
            this
          );
        }),
          (a.fn.smoothScroller.defaults = {
            speed: 400,
            ease: "swing",
            scrollEl: "body,html",
            offset: 0,
          }),
          a("body").on("click", "[data-smoothscroller]", function (b) {
            b.preventDefault();
            var c = a(this).attr("href");
            0 === c.indexOf("#") && a(c).smoothScroller();
          });
      })(jQuery),
        (function (a) {
          var b = {};
          (a.fn.toc = function (b) {
            var c,
              d = this,
              e = a.extend({}, jQuery.fn.toc.defaults, b),
              f = a(e.container),
              g = a(e.selectors, f),
              h = [],
              i = e.activeClass,
              j = function (b, c) {
                if (
                  e.smoothScrolling &&
                  "function" == typeof e.smoothScrolling
                ) {
                  b.preventDefault();
                  var f = a(b.target).attr("href");
                  e.smoothScrolling(f, e, c);
                }
                a("li", d).removeClass(i), a(b.target).parent().addClass(i);
              },
              k = function () {
                c && clearTimeout(c),
                  (c = setTimeout(function () {
                    for (
                      var b,
                        c = a(window).scrollTop(),
                        f = Number.MAX_VALUE,
                        g = 0,
                        j = 0,
                        k = h.length;
                      k > j;
                      j++
                    ) {
                      var l = Math.abs(h[j] - c);
                      f > l && ((g = j), (f = l));
                    }
                    a("li", d).removeClass(i),
                      (b = a("li:eq(" + g + ")", d).addClass(i)),
                      e.onHighlight(b);
                  }, 50));
              };
            return (
              e.highlightOnScroll && (a(window).bind("scroll", k), k()),
              this.each(function () {
                var b = a(this),
                  c = a(e.listType);
                g.each(function (d, f) {
                  var g = a(f);
                  h.push(g.offset().top - e.highlightOffset);
                  var i = e.anchorName(d, f, e.prefix);
                  if (f.id !== i) {
                    a("<span/>").attr("id", i).insertBefore(g);
                  }
                  var l = a("<a/>")
                      .text(e.headerText(d, f, g))
                      .attr("href", "#" + i)
                      .bind("click", function (c) {
                        a(window).unbind("scroll", k),
                          j(c, function () {
                            a(window).bind("scroll", k);
                          }),
                          b.trigger("selected", a(this).attr("href"));
                      }),
                    m = a("<li/>")
                      .addClass(e.itemClass(d, f, g, e.prefix))
                      .append(l);
                  c.append(m);
                }),
                  b.html(c);
              })
            );
          }),
            (jQuery.fn.toc.defaults = {
              container: "body",
              listType: "<ul/>",
              selectors: "h1,h2,h3",
              smoothScrolling: function (b, c, d) {
                a(b)
                  .smoothScroller({ offset: c.scrollToOffset })
                  .on("smoothScrollerComplete", function () {
                    d();
                  });
              },
              scrollToOffset: 0,
              prefix: "toc",
              activeClass: "toc-active",
              onHighlight: function () {},
              highlightOnScroll: !0,
              highlightOffset: 100,
              anchorName: function (c, d, e) {
                if (d.id.length) return d.id;
                var f = a(d)
                  .text()
                  .replace(/[^a-z0-9]/gi, " ")
                  .replace(/\s+/g, "-")
                  .toLowerCase();
                if (b[f]) {
                  for (var g = 2; b[f + g]; ) g++;
                  f = f + "-" + g;
                }
                return (b[f] = !0), e + "-" + f;
              },
              headerText: function (a, b, c) {
                return c.text();
              },
              itemClass: function (a, b, c, d) {
                return d + "-" + c[0].tagName.toLowerCase();
              },
            });
        })(jQuery);
    </script>
    <script>
      /* initialize */
      $(".toc").toc({
        selectors: "h2", //elements to use as headings
        container: "article", //element to find all selectors in
        smoothScrolling: true, //enable or disable smooth scrolling on click
        prefix: "toc", //prefix for anchor tags and class names
        highlightOnScroll: true, //add class to heading that is currently in focus
        highlightOffset: 100, //offset to trigger the next headline
      });
    </script>
    <script type="text/javascript" src="assets/scripts/logo-btn.js"></script>
  </body>
</html>
